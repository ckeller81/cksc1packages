<?xml version="1.0" standalone="yes"?>
<mi:PackageInstaller xmlns:mi="http://www.composite.net/ns/management/packageinstaller/1.0">
	<mi:PackageInformation name="CkSoftware.ImageWatermark" groupName="CkSoftware" version="1.0.1" author="Christoph Keller" website="http://dotnetcorner.ch" readMoreUrl="https://cksc1packages.codeplex.com/" id="cace33d3-993d-45c6-b8ce-9a6c72e10459" canBeUninstalled="true" systemLocking="hard" flushOnCompletion="true" reloadConsoleOnCompletion="true">
	<mi:PackageRequirements minimumCompositeVersion="4.2.0.0" maximumCompositeVersion="9.9999.9999.9999" />
		<TechnicalDetails>This package adds a HttpModule which intersects each call to the ShowMedia.ashx handler. If a configured watermark is found for the requested media image, the image will be watermarked as configured.</TechnicalDetails>
		<Description>Enables Composite users to easily Watermark all of their images. The watermarks are configured based on media folders, so you can have multiple configurations with different watermarks. A watermark can be defined as text and / or image and can be placed in each of the images edges.</Description>
	</mi:PackageInformation>
	<mi:PackageFragmentInstallerBinaries />
	<mi:PackageFragmentInstallers>
		<mi:Add installerType="Composite.Core.PackageSystem.PackageFragmentInstallers.FilePackageFragmentInstaller, Composite" uninstallerType="Composite.Core.PackageSystem.PackageFragmentInstallers.FilePackageFragmentUninstaller, Composite">
			<Files>
				<File sourceFilename="~\App_Data\Composite\TreeDefinitions\ImageWatermark.xml" targetFilename="~\App_Data\Composite\TreeDefinitions\ImageWatermark.xml" allowOverwrite="true" />
				<File sourceFilename="~\App_Data\Composite\DymamicTypeForms\CkSoftware\ImageWatermark\DataTypes\IWatermarkConfiguration.xml" targetFilename="~\App_Data\Composite\DymamicTypeForms\CkSoftware\ImageWatermark\DataTypes\IWatermarkConfiguration.xml" allowOverwrite="true" />
				<File sourceFilename="~\Bin\CkSoftware.ImageWatermark.dll" targetFilename="~\Bin\CkSoftware.ImageWatermark.dll" assemblyLoad="true" allowOverwrite="true" />
			</Files>
		</mi:Add>
		<mi:Add installerType="Composite.Core.PackageSystem.PackageFragmentInstallers.FileXslTransformationPackageFragmentInstaller, Composite" uninstallerType="Composite.Core.PackageSystem.PackageFragmentInstallers.FileXslTransformationPackageFragmentUninstaller, Composite">
			<XslFiles>
				<XslFile pathXml="~/Web.config" installXsl="~\Web.config\Install.xsl" uninstallXsl="~\Web.config\Uninstall.xsl" />
			</XslFiles>
		</mi:Add>
    <mi:Add installerType="Composite.Core.PackageSystem.PackageFragmentInstallers.DataTypePackageFragmentInstaller, Composite" uninstallerType="Composite.Core.PackageSystem.PackageFragmentInstallers.DataTypePackageFragmentUninstaller, Composite">
      <Types>
        <Type name="CkSoftware.ImageWatermark.DataTypes.IWatermarkConfiguration, CkSoftware.ImageWatermark" providerName="GeneratedDataTypesElementProvider" dataTypeDescriptor="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;DataTypeDescriptor dataTypeId=&quot;7cdb443f-ecf8-4ea0-ae4a-ffb3fe1622a2&quot; name=&quot;IWatermarkConfiguration&quot; namespace=&quot;CkSoftware.ImageWatermark.DataTypes&quot; hasCustomPhysicalSortOrder=&quot;false&quot; isCodeGenerated=&quot;false&quot; cachable=&quot;false&quot; labelFieldName=&quot;Name&quot; typeManagerTypeName=&quot;CkSoftware.ImageWatermark.DataTypes.IWatermarkConfiguration,CkSoftware.ImageWatermark&quot;&gt;&lt;DataAssociations /&gt;&lt;DataScopes&gt;&lt;DataScopeIdentifier name=&quot;public&quot; /&gt;&lt;/DataScopes&gt;&lt;KeyPropertyNames&gt;&lt;KeyPropertyName name=&quot;Id&quot; /&gt;&lt;/KeyPropertyNames&gt;&lt;SuperInterfaces /&gt;&lt;Fields&gt;&lt;DataFieldDescriptor id=&quot;172dd44c-426b-4812-834b-6b45366e78cb&quot; name=&quot;Id&quot; isNullable=&quot;false&quot; position=&quot;1000&quot; groupByPriority=&quot;0&quot; inherited=&quot;false&quot; instanceType=&quot;System.Guid, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; storeType=&quot;PhysicalStoreType='Guid'&quot; isReadOnly=&quot;false&quot;&gt;&lt;FormRenderingProfile /&gt;&lt;/DataFieldDescriptor&gt;&lt;DataFieldDescriptor id=&quot;77e63773-a384-440a-aed3-84798bf29d32&quot; name=&quot;Name&quot; isNullable=&quot;false&quot; position=&quot;1000&quot; groupByPriority=&quot;0&quot; inherited=&quot;false&quot; instanceType=&quot;System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; storeType=&quot;PhysicalStoreType='String'Length='254'&quot; isReadOnly=&quot;false&quot;&gt;&lt;FormRenderingProfile /&gt;&lt;/DataFieldDescriptor&gt;&lt;DataFieldDescriptor id=&quot;28ba44a7-18df-40b1-88a3-f07fab7a7f36&quot; name=&quot;FontSize&quot; isNullable=&quot;false&quot; position=&quot;1000&quot; groupByPriority=&quot;0&quot; inherited=&quot;false&quot; instanceType=&quot;System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; storeType=&quot;PhysicalStoreType='Integer'&quot; isReadOnly=&quot;false&quot; defaultValue=&quot;ValueType='Integer'Value='15'&quot;&gt;&lt;FormRenderingProfile /&gt;&lt;/DataFieldDescriptor&gt;&lt;DataFieldDescriptor id=&quot;13c1cdbe-d5db-4880-b14c-d5751657eaeb&quot; name=&quot;ShowOnTopLeft&quot; isNullable=&quot;false&quot; position=&quot;1000&quot; groupByPriority=&quot;0&quot; inherited=&quot;false&quot; instanceType=&quot;System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; storeType=&quot;PhysicalStoreType='Boolean'&quot; isReadOnly=&quot;false&quot;&gt;&lt;FormRenderingProfile /&gt;&lt;/DataFieldDescriptor&gt;&lt;DataFieldDescriptor id=&quot;5951c77d-8d80-425e-ba08-15818c3792db&quot; name=&quot;ShowOnTopRight&quot; isNullable=&quot;false&quot; position=&quot;1000&quot; groupByPriority=&quot;0&quot; inherited=&quot;false&quot; instanceType=&quot;System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; storeType=&quot;PhysicalStoreType='Boolean'&quot; isReadOnly=&quot;false&quot;&gt;&lt;FormRenderingProfile /&gt;&lt;/DataFieldDescriptor&gt;&lt;DataFieldDescriptor id=&quot;e5df9933-4c4b-40c8-939f-7b8523b9a1a3&quot; name=&quot;ShowOnBottmRight&quot; isNullable=&quot;false&quot; position=&quot;1000&quot; groupByPriority=&quot;0&quot; inherited=&quot;false&quot; instanceType=&quot;System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; storeType=&quot;PhysicalStoreType='Boolean'&quot; isReadOnly=&quot;false&quot; defaultValue=&quot;ValueType='Boolean'Value='True'&quot;&gt;&lt;FormRenderingProfile /&gt;&lt;/DataFieldDescriptor&gt;&lt;DataFieldDescriptor id=&quot;ea7d391b-525e-44c7-b40e-82f09ca408d2&quot; name=&quot;ShowOnBottmLeft&quot; isNullable=&quot;false&quot; position=&quot;1000&quot; groupByPriority=&quot;0&quot; inherited=&quot;false&quot; instanceType=&quot;System.Boolean, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; storeType=&quot;PhysicalStoreType='Boolean'&quot; isReadOnly=&quot;false&quot;&gt;&lt;FormRenderingProfile /&gt;&lt;/DataFieldDescriptor&gt;&lt;DataFieldDescriptor id=&quot;e8ad4adf-a062-4347-8ad7-0ee514738504&quot; name=&quot;WatermarkText&quot; isNullable=&quot;false&quot; position=&quot;1000&quot; groupByPriority=&quot;0&quot; inherited=&quot;false&quot; instanceType=&quot;System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; storeType=&quot;PhysicalStoreType='String'Length='254'&quot; isReadOnly=&quot;false&quot;&gt;&lt;FormRenderingProfile /&gt;&lt;/DataFieldDescriptor&gt;&lt;DataFieldDescriptor id=&quot;d478437d-050b-44a8-b29b-21f473a26e7a&quot; name=&quot;WatermarkImageFilePath&quot; isNullable=&quot;true&quot; position=&quot;1000&quot; groupByPriority=&quot;0&quot; inherited=&quot;false&quot; instanceType=&quot;System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; storeType=&quot;PhysicalStoreType='String'Length='2048'&quot; isReadOnly=&quot;false&quot; foreignKeyReferenceTypeName=&quot;Composite.Data.Types.IMediaFile,Composite&quot;&gt;&lt;FormRenderingProfile /&gt;&lt;/DataFieldDescriptor&gt;&lt;DataFieldDescriptor id=&quot;26e9268f-5ba5-4a6f-ac1c-0990eecfb564&quot; name=&quot;TargetMediaFolderPath&quot; isNullable=&quot;true&quot; position=&quot;1000&quot; groupByPriority=&quot;0&quot; inherited=&quot;false&quot; instanceType=&quot;System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; storeType=&quot;PhysicalStoreType='String'Length='2048'&quot; isReadOnly=&quot;false&quot; foreignKeyReferenceTypeName=&quot;Composite.Data.Types.IMediaFileFolder,Composite&quot;&gt;&lt;FormRenderingProfile /&gt;&lt;/DataFieldDescriptor&gt;&lt;/Fields&gt;&lt;/DataTypeDescriptor&gt;"></Type>
      </Types>
    </mi:Add>
  </mi:PackageFragmentInstallers>
</mi:PackageInstaller>